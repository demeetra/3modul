<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="responsive.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script type="text/javascript">

    $(document).ready(function() {


      let colors = ["pink", "yellow", "white", "green", "white"];
      let animation = ["animation1", "animation2", "animation3", "animation4", "animation5", "animation6", "animation7"];
      function update () {
          $(".fish").removeClass("pink yellow green white");
          $(".fish").removeClass("animation1 animation2 animation3 animation4 animation5 animation6 animation7");
          $(".fish").each( function(index) {
              $( this ).addClass( colors [Math.floor(Math.random() * colors.length)] );
              $( this ).addClass( animation [Math.floor(Math.random() * animation.length)] );
          });
      }
      update();
      // setInterval (update, 1000);

      class ValuesLoop {
        constructor(default_, values) {
            this.default = default_
            this.values = [null].concat(values);
            this.index = 0;
        }
        isSet() {
            return this.index > 0;
        }
        get() {
            return this.isSet() ? this.values[this.index] : this.default;
        }
        next() {
            this.index++;
            if (this.index >= this.values.length) {
                this.index = 0;
            }
            return this.get();
        }
      }

      class ButtonPanelState {
        constructor() {
            this.color = new ValuesLoop("#8B8B8B", ["#95C11F", "#E72174", "#FAB334", "white", "red", "green", "blue", "yellow"]);
            this.brush = new ValuesLoop("#8B8B8B", ["white"])
            this.cut = new ValuesLoop("#8B8B8B", ["white"])
            this.lupa = new ValuesLoop("#8B8B8B", ["white"])
            this.zlo = new ValuesLoop("#8B8B8B", ["red"])
        }
        draw(element) {
            if ($(element).attr("forceDisabled")) {
                return;
            }
            if (this.color.isSet()) {
                $(element).css("background-color", this.color.get());
            }
            if (this.brush.isSet()){
              let masks = ["v2", "v3", "v4"];
              let classList = $(element).attr('class').split(/\s+/);
              for (let i = 0; i < classList.length; i++) {
                let index = masks.indexOf(classList[i]);
                if (index >= 0) {
                  $(element).removeClass(classList[i]);
                  $(element).addClass(masks[index + 1 == masks.length ? 0 : index + 1]);
                  break;
                }
              }
            }
            if (this.cut.isSet()) {
              $(element).css("opacity", 0);
              $(element).attr("forceDisabled", true);
            }
        }
      }

      state = new ButtonPanelState();

      function drawButton(button, color) {
        $(button).css("background-color", color);
      }
      $(".btn.color").on("click", function(event) {
        drawButton(this, state.color.next());
      });
      $(".btn.brush").on("click", function(event) {
        drawButton(this, state.brush.next());
      });
      $(".btn.cut, .btn.lupa").on("click", function(event) {
        drawButton(this, state.cut.next());
      });
      $(".btn.lupa").on("click", function(event) {
        drawButton(this, state.lupa.next());
      });
      $(".btn.zlo").on("click", function(event) {
        drawButton(this, state.zlo.next());
        $("body").css("background-color", state.zlo.get());
        $(".btn").remove();
      });

      $(".volos").on("click", function() {
        state.draw(this);
      });

    });

    </script>
  </head>
  <body>
  <div class="main">
    <div class="text t1">
      <h2>Помоги рыбкам создать уникальный образ на&nbsp;ногах – собери свою первую причёску!</h2>
    </div>
    <div class="text t2">
      <h2>Гарра Руфа – что это за вид рыб?</h2>
    </div>
    <div class="text t3">
      <h3>Гарра Руфа – рыбка, которая относится к&nbsp;семейству карповых. В длину она достигает не&nbsp;более 10 см, не&nbsp;имеет зубов, зато обладает очень сильными губами. </h2>
    </div>
    <div class="text t4">
      <h3>Не стоит переживать, так&nbsp;как&nbsp;прокусить человеческую кожу рыбкам не под силу.</h2>
    </div>

    <!-- волосы -->
    <div class="hair_conteiner_main">
      <div class="hair_conteiner h_c1">
        <div class="hair h1">
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
        </div>
        <div class="hair h2">
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
        </div>
      </div>
      <div class="hair_conteiner">
        <div class="hair h3">
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
        </div>
        <div class="hair h4">
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
        </div>
      </div>
      <div class="hair_conteiner">
        <div class="hair h5">
            <div class="volos v2"></div>
            <div class="volos v2"></div>
            <div class="volos v2"></div>
            <div class="volos v2"></div>
            <div class="volos v2"></div>
        </div>
        <div class="hair h6">
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
          <div class="volos v2"></div>
        </div>
      </div>
      <div class="hair_conteiner">
        <div class="hair h7">
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
          <div class="volos v3"></div>
        </div>
        <div class="hair h8">
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
          <div class="volos v4"></div>
        </div>
      </div>
    </div>
    <!-- ноги -->
    <div class="foot"></div>
    <div class="foot"></div>
    <div class="foot"></div>
    <div class="foot"></div>

        <!-- кнопки -->
    <div class="btn_fon"></div>
    <div class="zlo_fon"></div>
    <div class="conteiner">
      <div class="menu">
        <div class="btn color"></div>
        <div class="btn brush"></div>
        <div class="btn cut"></div>
        <div class="btn lupa"></div>
        <div class="btn zlo"></div>
      </div>
    </div>



    <!-- рыбки -->
  <div class="overflow_wrapper">
      <div class="fish fish1 f1"></div>
      <div class="fish fish2 f2"></div>
      <div class="fish fish3 f3"></div>
      <div class="fish fish4 f4"></div>
      <div class="fish fish1 f5"></div>
      <div class="fish fish2 f6"></div>
      <div class="fish fish3 f7"></div>
      <div class="fish fish1 f8"></div>
      <div class="fish fish2 f9"></div>
      <div class="fish fish3 f10"></div>
      <div class="fish fish4 f11"></div>
      <div class="fish fish1 f12"></div>
      <div class="fish fish2 f13"></div>
      <div class="fish fish3 f14"></div>
      <div class="fish fish1 f15"></div>
      <div class="fish fish2 f16"></div>
      <div class="fish fish3 f17"></div>
      <div class="fish fish4 f18"></div>
      <div class="fish fish1 f19"></div>
      <div class="fish fish2 f20"></div>
      <div class="fish fish3 f21"></div>
      <div class="fish fish1 f22"></div>
      <div class="fish fish2 f23"></div>
      <div class="fish fish3 f24"></div>
      <div class="fish fish4 f25"></div>
      <div class="fish fish1 f26"></div>
      <div class="fish fish2 f27"></div>
      <div class="fish fish3 f28"></div>
      <div class="fish fish1 f29"></div>
      <div class="fish fish2 f30"></div>
      <div class="fish fish3 f31"></div>
      <div class="fish fish4 f32"></div>
      <div class="fish fish1 f33"></div>
      <div class="fish fish2 f34"></div>
      <div class="fish fish3 f35"></div>
      <div class="fish fish1 f36"></div>
      <div class="fish fish2 f37"></div>
      <div class="fish fish3 f38"></div>
      <div class="fish fish4 f39"></div>
      <div class="fish fish1 f40"></div>
      <div class="fish fish2 f20"></div>
      <div class="fish fish3 f21"></div>
      <div class="fish fish1 f22"></div>
      <div class="fish fish2 f23"></div>
      <div class="fish fish3 f24"></div>
      <div class="fish fish4 f25"></div>
      <div class="fish fish1 f26"></div>
      <div class="fish fish2 f27"></div>
      <div class="fish fish3 f28"></div>
      <div class="fish fish1 f29"></div>
      <div class="fish fish2 f30"></div>
      <div class="fish fish3 f31"></div>
      <div class="fish fish4 f32"></div>
      <div class="fish fish1 f33"></div>
      <div class="fish fish2 f34"></div>
      <div class="fish fish3 f35"></div>
      <div class="fish fish1 f36"></div>
      <div class="fish fish2 f37"></div>
      <div class="fish fish3 f38"></div>
      <div class="fish fish4 f39"></div>
      <div class="fish fish1 f40"></div>
    </div>
  </div>


    <!-- подвал -->
    <div class="podval">
      <div class="dno"></div>
      <div class="octopus"></div>
      <div class="adc"></div>
      <div class="name">Василенко Надежда</div>
      <div class="logo"></div>
    </div>
  </body>
</html>
